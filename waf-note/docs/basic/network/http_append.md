## 基于HTTP的功能追加协议
### 基于HTTP的协议
HTTP设计之初仅仅用于传输HTML文本，但是随着在线购物等高级应用发展起来。
HTTP协议的功能和性能上都需要一些扩展。
因此，诞生了一些新的协议规则，他们基于HTTP，并在此基础上增加了新的功能。

### 消除HTT瓶颈的SPDY
#### HTTP的瓶颈
HTTP缺陷：

- 1.客户端只能主动发起请求，服务端只能被动提供服务。无法进行全双工通信服务。
- 2.每次互相通信都会发送大量同样的首部。首部越多，实际内容传输效率越低。
- 3.压缩并非强制选择，可能不压缩数据就发送。

Ajax的解决方法：基于XMLHTTPRequest API，通过JavaScript可以实现和服务器进行通信。
- 发起大量的请求，获取服务器更新的内容。
- 局部Web页面替换加载的异步通信技术。

Comet的解决方法：服务器延迟应答，当服务器没有更新的时候，将连接保持。在有更新的时候，返回给客户端更新内容。

Ajax和Comet都没有解决缺陷2，3
#### SPDY的设计和功能
SPDY位于SSL和HTTP之间。HTTP应用层，SPDY会话层，SSL表示层。

- 提供了服务端推送功能
- 提供了首部压缩功能
- 一个TCP连接上可以无限处理多个HTTP请求
- 并发的HTTP请求之间可以定义优先级
- 提供服务端提示相关资源的功能，避免客户端发起多余的请求。

#### SPDY消除Web瓶颈了吗
实践证明，效果不佳。

### 使用浏览器进行全双工通信的WebSocket
#### WebSocket的设计和功能
实现客户端和服务端的全双工通信
#### WebSocket协议
支持服务端向客户端推送功能
使用WebSocket时，需要先建立HTTP连接。
握手 ： 客户端，使用Upgrade：websocket首部。服务端响应101 Switching Protocols。
握手后，不在使用HTTP数据帧而使用websocket数据帧。

### 期待已久的HTTP2.0
HTTP2.0基于SPDY websocket等协议，在以下方面提升性能：

- 多路复用，一条连接处理多个HTTP请求
- TLS义务化
- 压缩
- 流量控制
- webSocket








